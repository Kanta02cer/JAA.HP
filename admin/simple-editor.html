<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>シンプルエディタ - 日本学生アンバサダー協会</title>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9fafb;
        }
        .editor-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .editor-header {
            background: linear-gradient(135deg, #f97316, #ea580c);
            color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .editor-section {
            background: white;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .editor-title {
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            font-size: 1.25rem;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-family: inherit;
        }
        .form-input:focus {
            outline: none;
            border-color: #f97316;
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }
        .form-textarea {
            width: 100%;
            min-height: 300px;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            resize: vertical;
        }
        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 1rem;
            background-color: white;
        }
        .editor-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            margin: 0.5rem;
            font-size: 1rem;
        }
        .editor-button:hover {
            background: #2563eb;
        }
        .editor-button.success {
            background: #16a34a;
        }
        .editor-button.success:hover {
            background: #15803d;
        }
        .editor-button.danger {
            background: #dc2626;
        }
        .editor-button.danger:hover {
            background: #b91c1c;
        }
        .preview-section {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
        }
        .preview-title {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        .file-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        .file-option {
            background: white;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .file-option:hover {
            border-color: #f97316;
        }
        .file-option.selected {
            border-color: #f97316;
            background-color: #fef3c7;
        }
        .file-name {
            font-weight: 600;
            color: #1f2937;
        }
        .file-desc {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="editor-container">
        <div class="editor-header">
            <h1>シンプルエディタ</h1>
            <p>コンテンツを簡単に編集できます</p>
        </div>

        <div class="editor-section">
            <div class="editor-title">📁 ファイル選択</div>
            <div class="file-selector">
                <div class="file-option" onclick="selectFile('_news/2025-01-20-test-article.md')">
                    <div class="file-name">テスト記事</div>
                    <div class="file-desc">_news/2025-01-20-test-article.md</div>
                </div>
                <div class="file-option" onclick="selectFile('_news/2025-10-01-press-release.md')">
                    <div class="file-name">プレスリリース</div>
                    <div class="file-desc">_news/2025-10-01-press-release.md</div>
                </div>
                <div class="file-option" onclick="selectFile('index.html')">
                    <div class="file-name">トップページ</div>
                    <div class="file-desc">index.html</div>
                </div>
                <div class="file-option" onclick="selectFile('about.html')">
                    <div class="file-name">Aboutページ</div>
                    <div class="file-desc">about.html</div>
                </div>
            </div>
        </div>

        <div class="editor-section">
            <div class="editor-title">✏️ 記事編集</div>
            <form id="editor-form">
                <div class="form-group">
                    <label class="form-label">ファイル名</label>
                    <input type="text" id="filename" class="form-input" placeholder="例: _news/2025-01-25-new-article.md">
                </div>

                <div class="form-group">
                    <label class="form-label">タイトル</label>
                    <input type="text" id="title" class="form-input" placeholder="記事のタイトル">
                </div>

                <div class="form-group">
                    <label class="form-label">説明</label>
                    <textarea id="description" class="form-input" rows="3" placeholder="記事の説明"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">カテゴリ</label>
                    <select id="category" class="form-select">
                        <option value="お知らせ">お知らせ</option>
                        <option value="プレスリリース">プレスリリース</option>
                        <option value="メディア掲載">メディア掲載</option>
                        <option value="イベント">イベント</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">内容（Markdown形式）</label>
                    <textarea id="content" class="form-textarea" placeholder="記事の内容をMarkdown形式で入力してください..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">著者</label>
                    <input type="text" id="author" class="form-input" value="日本学生アンバサダー協会">
                </div>

                <div class="form-group">
                    <label class="form-label">画像URL（オプション）</label>
                    <input type="url" id="image" class="form-input" placeholder="https://example.com/image.jpg">
                </div>

                <div class="form-group">
                    <label class="form-label">タグ（カンマ区切り）</label>
                    <input type="text" id="tags" class="form-input" placeholder="タグ1, タグ2, タグ3">
                </div>

                <div class="form-group">
                    <label class="form-label">SEOキーワード</label>
                    <input type="text" id="keywords" class="form-input" placeholder="キーワード1, キーワード2">
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="draft"> 下書きとして保存
                    </label>
                </div>

                <button type="button" class="editor-button" onclick="previewContent()">👁️ プレビュー</button>
                <button type="button" class="editor-button success" onclick="generateMarkdown()">📝 Markdown生成</button>
                <button type="button" class="editor-button" onclick="copyToClipboard()">📋 クリップボードにコピー</button>
                <button type="button" class="editor-button danger" onclick="resetForm()">🔄 リセット</button>
            </form>
        </div>

        <div class="editor-section" id="preview-section" style="display: none;">
            <div class="editor-title">👁️ プレビュー</div>
            <div class="preview-section">
                <div class="preview-title">生成されるMarkdown:</div>
                <pre id="markdown-output"></pre>
            </div>
        </div>

        <div class="editor-section">
            <div class="editor-title">🚀 次のステップ</div>
            <p>1. 上記のフォームで記事を編集</p>
            <p>2. 「Markdown生成」ボタンをクリック</p>
            <p>3. 生成されたMarkdownをコピー</p>
            <p>4. <a href="https://github.com/Kanta02cer/JAA.HP" target="_blank">GitHubリポジトリ</a>で新しいファイルを作成</p>
            <p>5. コピーしたMarkdownを貼り付けて保存</p>
            
            <a href="https://github.com/Kanta02cer/JAA.HP" class="editor-button success" target="_blank">
                📁 GitHubリポジトリを開く
            </a>
        </div>
    </div>

    <script>
        let selectedFile = '';

        function selectFile(filename) {
            selectedFile = filename;
            
            // 選択状態を更新
            document.querySelectorAll('.file-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // ファイル名を入力欄に設定
            document.getElementById('filename').value = filename;
            
            // 既存のファイルの場合は内容を読み込み
            if (filename.includes('_news/')) {
                loadExistingContent(filename);
            }
        }

        function loadExistingContent(filename) {
            // 実際の実装では、GitHub APIを使用してファイル内容を取得
            // ここではサンプルデータを使用
            const sampleContent = {
                title: "サンプル記事",
                description: "これはサンプルの記事です。",
                category: "お知らせ",
                content: "# サンプル記事\n\nこれはサンプルの記事内容です。\n\n## 見出し\n\n段落の内容...",
                author: "日本学生アンバサダー協会",
                image: "",
                tags: "サンプル, テスト",
                keywords: "サンプル, テスト"
            };
            
            document.getElementById('title').value = sampleContent.title;
            document.getElementById('description').value = sampleContent.description;
            document.getElementById('category').value = sampleContent.category;
            document.getElementById('content').value = sampleContent.content;
            document.getElementById('author').value = sampleContent.author;
            document.getElementById('image').value = sampleContent.image;
            document.getElementById('tags').value = sampleContent.tags;
            document.getElementById('keywords').value = sampleContent.keywords;
        }

        function generateMarkdown() {
            const filename = document.getElementById('filename').value;
            const title = document.getElementById('title').value;
            const description = document.getElementById('description').value;
            const category = document.getElementById('category').value;
            const content = document.getElementById('content').value;
            const author = document.getElementById('author').value;
            const image = document.getElementById('image').value;
            const tags = document.getElementById('tags').value;
            const keywords = document.getElementById('keywords').value;
            const draft = document.getElementById('draft').checked;
            
            const today = new Date().toISOString().split('T')[0];
            
            let markdown = `---
layout: news-detail
title: "${title}"
description: "${description}"
date: ${today}
category: "${category}"
tags: [${tags.split(',').map(tag => `"${tag.trim()}"`).join(', ')}]
image: "${image}"
keywords: "${keywords}"
author: "${author}"
draft: ${draft}
---

${content}`;
            
            document.getElementById('markdown-output').textContent = markdown;
            document.getElementById('preview-section').style.display = 'block';
        }

        function previewContent() {
            generateMarkdown();
        }

        function copyToClipboard() {
            const markdownOutput = document.getElementById('markdown-output');
            if (markdownOutput.textContent) {
                navigator.clipboard.writeText(markdownOutput.textContent).then(() => {
                    alert('Markdownがクリップボードにコピーされました！');
                }).catch(err => {
                    console.error('コピーに失敗しました:', err);
                    // フォールバック: テキストエリアを作成してコピー
                    const textArea = document.createElement('textarea');
                    textArea.value = markdownOutput.textContent;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    alert('Markdownがクリップボードにコピーされました！');
                });
            } else {
                alert('まずMarkdownを生成してください。');
            }
        }

        function resetForm() {
            document.getElementById('editor-form').reset();
            document.getElementById('preview-section').style.display = 'none';
            document.querySelectorAll('.file-option').forEach(option => {
                option.classList.remove('selected');
            });
            selectedFile = '';
        }

        // 初期化
        document.addEventListener('DOMContentLoaded', function() {
            // デフォルトで最初のファイルを選択
            selectFile('_news/2025-01-20-test-article.md');
        });
    </script>
</body>
</html>
