<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>ニュース詳細 | 日本学生アンバサダー協会</title>
    <meta name="description" content="日本学生アンバサダー協会の最新ニュース詳細ページです。">
    <meta name="keywords" content="ニュース,お知らせ,日本学生アンバサダー協会">
    <meta name="author" content="日本学生アンバサダー協会">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://kanta02cer.github.io/JAA.HP/news-detail.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/6R5nX1YH/Rogo.jpg">
    <link rel="shortcut icon" href="https://i.ibb.co/6R5nX1YH/Rogo.jpg">
    <link rel="apple-touch-icon" href="https://i.ibb.co/6R5nX1YH/Rogo.jpg">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://kanta02cer.github.io/JAA.HP/news-detail.html">
    <meta property="og:title" content="ニュース詳細 | 日本学生アンバサダー協会">
    <meta property="og:description" content="日本学生アンバサダー協会の最新ニュース詳細ページです。">
    <meta property="og:image" content="https://i.ibb.co/6R5nX1YH/Rogo.jpg">
    <meta property="og:site_name" content="日本学生アンバサダー協会">
    <meta property="og:locale" content="ja_JP">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://kanta02cer.github.io/JAA.HP/news-detail.html">
    <meta name="twitter:title" content="ニュース詳細 | 日本学生アンバサダー協会">
    <meta name="twitter:description" content="日本学生アンバサダー協会の最新ニュース詳細ページです。">
    <meta name="twitter:image" content="https://i.ibb.co/6R5nX1YH/Rogo.jpg">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#f97316">
    <meta name="msapplication-TileColor" content="#f97316">
    <meta name="application-name" content="日本学生アンバサダー協会">
    
    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="VRrGwPpO7QJW6zd07PMFFE9bD1KGIp05LV4emZVWa10" />
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TMBL47D6');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L9D609G0ML"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        // 初期設定（Cookie同意前は無効）
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'functionality_storage': 'denied',
            'personalization_storage': 'denied',
            'security_storage': 'granted'
        });
        
        gtag('config', 'G-L9D609G0ML', {
            'anonymize_ip': true,
            'cookie_flags': 'SameSite=Lax;Secure'
        });
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; }
        .prose { max-width: 800px; margin: auto; }
        .prose h2 { font-size: 1.5em; margin-top: 2em; margin-bottom: 1em; border-bottom: 2px solid #f3f4f6; padding-bottom: 0.5em; }
        .prose p { line-height: 1.8; }
        .category-tag { font-size: 0.75rem; font-weight: 700; padding: 0.25rem 0.75rem; border-radius: 9999px; }
        .tag-release { background-color: #db2777; color: white; }
        .tag-media { background-color: #4f46e5; color: white; }
        .tag-event { background-color: #16a34a; color: white; }
        .tag-update { background-color: #059669; color: white; }
        .btn { display: inline-flex; align-items: center; justify-content: center; font-weight: 700; border-radius: 9999px; padding: 12px 30px; transition: all 0.3s ease; gap: 0.5rem; }
        .btn-primary { background-color: #f97316; color: white; }
        .btn-primary:hover { background-color: #ea580c; }
        .loading { text-align: center; padding: 2rem; }
        .error { text-align: center; padding: 2rem; color: #dc2626; }
    </style>
</head>
<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TMBL47D6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Header -->
    <header id="header" class="bg-white/90 backdrop-blur-md sticky top-0 z-50 transition-all duration-300 shadow-sm">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="https://i.ibb.co/XZyfhHZn/image.png" alt="日本学生アンバサダー協会 ロゴ" class="h-10 mr-3">
            </a>
            <nav class="hidden lg:flex items-center space-x-8 font-bold">
                <a href="business.html" class="text-gray-600 hover:text-orange-500 transition">事業内容</a>
                <a href="about.html" class="text-gray-600 hover:text-orange-500 transition">協会について</a>
                <a href="ambassador.html" class="text-gray-600 hover:text-orange-500 transition">アンバサダー制度</a>
                <a href="partnership.html" class="text-gray-600 hover:text-orange-500 transition">パートナーシップ</a>
                <a href="news.html" class="text-gray-600 hover:text-orange-500 transition">お知らせ</a>
                <a href="contact.html" class="btn btn-primary text-sm ml-4">お問い合わせ</a>
            </nav>
            <button id="mobile-menu-button" class="lg:hidden text-gray-700"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden">
            <div class="px-6 pt-2 pb-4 border-t">
                <a href="about.html" class="block py-2 text-gray-600 hover:text-orange-500 font-bold">協会について</a>
                <a href="business.html" class="block py-2 text-gray-600 hover:text-orange-500 font-bold">事業内容</a>
                <a href="ambassador.html" class="block py-2 text-gray-600 hover:text-orange-500 font-bold">アンバサダー制度</a>
                <a href="news.html" class="block py-2 text-orange-500 font-bold">お知らせ</a>
                <a href="partnership.html" class="block py-2 text-gray-600 hover:text-orange-500 font-bold">パートナーシップ</a>
                <a href="contact.html" class="block mt-2 btn btn-primary text-center">お問い合わせ</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20">
        <!-- ローディング表示 -->
        <div id="loading" class="loading">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"></div>
            <p class="mt-4 text-gray-600">記事を読み込み中...</p>
        </div>

        <!-- エラー表示 -->
        <div id="error" class="error hidden">
            <h2 class="text-xl font-bold mb-2">記事が見つかりません</h2>
            <p>指定された記事は存在しないか、削除された可能性があります。</p>
            <a href="news.html" class="btn btn-primary mt-4">ニュース一覧に戻る</a>
        </div>

        <!-- 記事コンテンツ -->
        <article id="article-content" class="prose hidden">
            <div class="mb-8">
                <div class="flex items-center space-x-4 text-sm text-gray-500 mb-2">
                    <time id="article-date" datetime=""></time>
                    <span id="article-category" class="category-tag"></span>
                </div>
                <h1 id="article-title" class="text-3xl md:text-4xl font-black text-gray-800"></h1>
            </div>
            <img id="article-image" src="" alt="" class="rounded-lg shadow-md w-full mb-8 hidden">
            
            <div id="article-body" class="prose-content">
                <!-- 記事の内容がここに動的に挿入されます -->
            </div>

            <div class="mt-12 text-right">
                <p id="article-author"></p>
            </div>
        </article>

        <div class="text-center mt-16">
            <a href="news.html" class="font-bold text-orange-500 hover:text-orange-600 transition">&larr; お知らせ一覧に戻る</a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-bold mb-4">日本学生アンバサダー協会</h3>
                    <p class="text-sm text-gray-400">学生の挑戦に寄り添うパートナーであり続ける</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">協会について</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="about.html#mission" class="text-gray-300 hover:text-white">Mission/Vision</a></li>
                        <li><a href="about.html#message" class="text-gray-300 hover:text-white">代表者メッセージ</a></li>
                        <li><a href="about.html#profile" class="text-gray-300 hover:text-white">団体概要</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">リンク</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="business.html" class="text-gray-300 hover:text-white">事業内容</a></li>
                        <li><a href="news.html" class="text-gray-300 hover:text-white">お知らせ</a></li>
                        <li><a href="partnership.html" class="text-gray-300 hover:text-white">パートナーシップ</a></li>
                        <li><a href="contact.html" class="text-gray-300 hover:text-white">お問い合わせ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">フォローする</h4>
                    <a href="https://www.instagram.com/jaa_ed.official/" target="_blank" rel="noopener noreferrer" class="text-gray-300 hover:text-white">Instagram</a>
                </div>
                <div>
                    <h4 class="font-bold mb-4">その他</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="privacy.html" class="text-gray-300 hover:text-white">プライバシーポリシー</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm text-gray-500">
                <p>&copy; 2025 Japan Ambassador Association. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/news-loader.js"></script>
    <script>
        // 記事詳細ページ用のスクリプト
        class NewsDetailPage {
            constructor() {
                this.newsData = [];
                this.currentArticle = null;
                this.init();
            }

            async init() {
                await this.loadNewsData();
                this.loadArticle();
            }

            async loadNewsData() {
                // サンプルデータ（実際の実装ではAPIから取得）
                this.newsData = [
                    {
                        id: 1,
                        title: "一般社団法人化に関するお知らせ",
                        description: "日本学生アンバサダー協会の一般社団法人化に関するお知らせ。2025年10月に一般社団法人設立を予定しています。",
                        date: "2025-10-01",
                        category: "プレスリリース",
                        tags: ["法人化", "プレスリリース", "組織基盤"],
                        image: "https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?q=80&w=2070&auto=format&fit=crop",
                        slug: "press-release",
                        author: "日本学生アンバサダー協会",
                        body: `
                            <p>平素より日本学生アンバサダー協会の活動にご理解とご支援を賜り、誠にありがとうございます。</p>
                            <p>この度、当団体は2025年10月を目途に「一般社団法人日本学生アンバサダー協会」の設立を予定していることをご報告いたします。現在は任意団体として活動しており、法人設立が完了次第、改めてご報告いたします。</p>
                            <p>また、今後の方針として、2035年を目標に公益社団法人の設立も視野に入れております。</p>
                            
                            <h2>法人化の背景と目的</h2>
                            <p>2025年5月の任意団体設立以来、私たちは「学生だから信頼されないをなくす」というミッションの実現に向け、多くの学生、企業、関係者の皆様に支えられながら活動してまいりました。学生アンバサダー認定サービスの基盤構築や、企業との連携プロジェクトを進める中で、より一層の社会的信頼性を確保し、安定的かつ継続的に事業を推進していく必要性を強く認識するに至りました。</p>
                            <p>今後、法人格の取得により、組織基盤を強化し、社会的責任を明確にすることで、私たちの活動をさらに加速させてまいります。学生一人ひとりの挑戦に寄り添い、企業や社会との強固な架け橋となるべく、役員・スタッフ一同、決意を新たにしております。</p>
                            
                            <h2>今後の展望</h2>
                            <p>今後は、2035年の公益社団法人化を目指し、非営利性と透明性の高い組織運営に努めてまいります。Webプラットフォームの本格稼働や、学生の活動拠点となるレジデンス事業など、計画中のプロジェクトを着実に実行し、理念の実現に向けて邁進する所存です。</p>
                            <p>今後とも、変わらぬご支援とご鞭撻を賜りますよう、心よりお願い申し上げます。</p>
                        `
                    },
                    {
                        id: 2,
                        title: "「人材版令和の虎」に出演しました",
                        description: "テレビ番組「人材版令和の虎」に代表の井上幹太が出演し、学生支援の取り組みについて紹介されました。",
                        date: "2025-07-17",
                        category: "メディア掲載",
                        tags: ["メディア掲載", "テレビ出演", "井上幹太"],
                        image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?q=80&w=2070&auto=format&fit=crop",
                        slug: "media-appearance",
                        author: "日本学生アンバサダー協会",
                        body: `
                            <p>2025年7月17日、テレビ番組「人材版令和の虎」に代表の井上幹太が出演いたしました。</p>
                            <p>番組では、日本学生アンバサダー協会の活動理念や、学生支援の取り組みについて詳しく紹介していただきました。</p>
                            
                            <h2>番組内容</h2>
                            <p>番組では、学生の可能性を最大限に引き出すための独自の評価システムや、企業との連携プロジェクトについて取り上げていただきました。</p>
                            <p>特に、学生アンバサダー認定サービスについて詳しく紹介していただき、多くの視聴者の方々に私たちの活動を知っていただく機会となりました。</p>
                            
                            <h2>今後の展開</h2>
                            <p>この番組出演を機に、より多くの学生や企業の方々に私たちの活動を知っていただけることを期待しています。</p>
                        `
                    },
                    {
                        id: 3,
                        title: "公式ホームページリニューアルのお知らせ",
                        description: "日本学生アンバサダー協会の公式ホームページをリニューアルいたしました。より使いやすく、情報が見やすいデザインに変更しています。",
                        date: "2025-01-15",
                        category: "お知らせ",
                        tags: ["ホームページ", "リニューアル", "お知らせ"],
                        image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2015&auto=format&fit=crop",
                        slug: "website-renewal",
                        author: "日本学生アンバサダー協会",
                        body: `
                            <p>日本学生アンバサダー協会の公式ホームページをリニューアルいたしました。</p>
                            <p>新しいデザインでは、より使いやすく、情報が見やすいレイアウトに変更しています。</p>
                            
                            <h2>リニューアルのポイント</h2>
                            <ul>
                                <li>モバイル対応の改善</li>
                                <li>情報の見やすさ向上</li>
                                <li>アクセシビリティの向上</li>
                                <li>SEO対策の強化</li>
                            </ul>
                            
                            <h2>今後の予定</h2>
                            <p>今後も定期的にコンテンツの更新を行い、より良いサービスを提供してまいります。</p>
                        `
                    }
                ];
            }

            loadArticle() {
                const urlParams = new URLSearchParams(window.location.search);
                const articleId = parseInt(urlParams.get('id'));
                
                if (!articleId) {
                    this.showError();
                    return;
                }

                this.currentArticle = this.newsData.find(article => article.id === articleId);
                
                if (!this.currentArticle) {
                    this.showError();
                    return;
                }

                this.renderArticle();
                this.updateMetaTags();
            }

            renderArticle() {
                const article = this.currentArticle;
                
                // 日付のフォーマット
                const date = new Date(article.date).toLocaleDateString('ja-JP', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit'
                });

                // カテゴリクラスの取得
                const categoryClass = this.getCategoryClass(article.category);

                // 要素の更新
                document.getElementById('article-date').textContent = date;
                document.getElementById('article-date').setAttribute('datetime', article.date);
                
                const categoryElement = document.getElementById('article-category');
                categoryElement.textContent = article.category;
                categoryElement.className = `category-tag ${categoryClass}`;
                
                document.getElementById('article-title').textContent = article.title;
                document.getElementById('article-author').textContent = article.author;
                
                // 画像の表示（存在する場合）
                const imageElement = document.getElementById('article-image');
                if (article.image) {
                    imageElement.src = article.image;
                    imageElement.alt = article.title;
                    imageElement.classList.remove('hidden');
                }
                
                // 記事本文の表示
                document.getElementById('article-body').innerHTML = article.body;

                // ローディングを非表示にして記事を表示
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('article-content').classList.remove('hidden');
            }

            getCategoryClass(category) {
                const categoryMap = {
                    'プレスリリース': 'tag-release',
                    'メディア掲載': 'tag-media',
                    'イベント': 'tag-event',
                    'お知らせ': 'tag-update'
                };
                return categoryMap[category] || 'tag-update';
            }

            showError() {
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('error').classList.remove('hidden');
            }

            updateMetaTags() {
                const article = this.currentArticle;
                
                // タイトルの更新
                document.title = `${article.title} | 日本学生アンバサダー協会`;
                
                // メタタグの更新
                const metaDescription = document.querySelector('meta[name="description"]');
                if (metaDescription) {
                    metaDescription.setAttribute('content', article.description);
                }
                
                const ogTitle = document.querySelector('meta[property="og:title"]');
                if (ogTitle) {
                    ogTitle.setAttribute('content', article.title);
                }
                
                const ogDescription = document.querySelector('meta[property="og:description"]');
                if (ogDescription) {
                    ogDescription.setAttribute('content', article.description);
                }
                
                const ogImage = document.querySelector('meta[property="og:image"]');
                if (ogImage && article.image) {
                    ogImage.setAttribute('content', article.image);
                }
            }
        }

        // ページ読み込み時の初期化
        document.addEventListener('DOMContentLoaded', () => {
            new NewsDetailPage();
            
            // モバイルメニューの制御
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Cookie同意状態をチェックしてGoogle Analyticsを制御
            function checkCookieConsent() {
                const cookies = document.cookie.split(';');
                for (let cookie of cookies) {
                    const [name, value] = cookie.trim().split('=');
                    if (name === 'cookie_consent') {
                        if (value === 'accepted') {
                            // Google Analyticsを有効化
                            if (typeof gtag !== 'undefined') {
                                gtag('consent', 'update', {
                                    'analytics_storage': 'granted',
                                    'ad_storage': 'granted',
                                    'functionality_storage': 'granted',
                                    'personalization_storage': 'granted'
                                });
                            }
                        }
                        break;
                    }
                }
            }

            checkCookieConsent();
        });
    </script>

</body>
</html>
